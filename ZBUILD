NAME=xmp-curses
SOURCE=main.c
FLAGS="-O3 -lxmp"

# xcurses aint doing so good
#FLAGS="$FLAGS -L/usr/lib -lXCurses -Wl,-O1,--sort-common,--as-needed,-z,relro,-z,now -lX11 -lXt -lXau -lXmu -lXpm -lXaw -lICE -lXext -lSM"

FLAGS="$FLAGS -lcurses"

[ "$(uname)" = "Linux" ] && FLAGS="$FLAGS -lpulse-simple -flto -lrt"

# openbsd clang doesnt like lto for whatever reason
# set up /usr/local flags and default to sndio.
# TODO create conf generator
[ "$(uname)" = "OpenBSD" ] && FLAGS="$FLAGS -lsndio -L/usr/local/lib -I/usr/local/include"

[ "$(uname)" = "FreeBSD" ] && FLAGS="$FLAGS -lsndio -L/usr/local/lib -I/usr/local/include -lrt"
